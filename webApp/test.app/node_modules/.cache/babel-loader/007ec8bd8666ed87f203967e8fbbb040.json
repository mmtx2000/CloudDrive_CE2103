{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, getTabIndex, createPropsContext, withPropsContext, kendoThemeMaps } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport ListFilter from '../common/ListFilter';\nimport ListDefaultItem from '../common/ListDefaultItem';\nimport List from '../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { isPresent, getItemValue, sameCharsOnly, shuffleData, matchText, areSame, preventDefaultNonInputs, getFocusedItem } from '../common/utils';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar VALIDATION_MESSAGE = 'Please select a value from the list!';\nvar sizeMap = kendoThemeMaps.sizeMap,\n    roundedMap = kendoThemeMaps.roundedMap;\n/**\n * @hidden\n */\n\nvar DropDownListWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(DropDownListWithoutContext, _super);\n\n  function DropDownListWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.state = {};\n    _this._element = null;\n    _this.base = new DropDownBase(_this);\n    _this.searchState = {\n      word: '',\n      last: ''\n    };\n    _this._select = null;\n    _this._skipFocusEvent = false;\n    _this._filterInput = null;\n    _this._navigated = false;\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this.base.wrapper) {\n        _this.base.wrapper.focus();\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.handleItemSelect = function (index, state) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          virtual = _a.virtual,\n          dataItemKey = _a.dataItemKey,\n          defaultItem = _a.defaultItem;\n      var skip = virtual ? virtual.skip : 0;\n      var item = index === -1 && defaultItem !== undefined ? defaultItem : data[index - skip];\n      var newSelected = !areSame(item, _this.value, dataItemKey);\n\n      _this.triggerOnChange(item, state);\n\n      if (newSelected) {\n        _this.base.triggerPageChangeCornerItems(item, state);\n      }\n    };\n\n    _this.componentRef = function (element) {\n      _this._element = element;\n      _this.base.wrapper = element;\n    };\n\n    _this.dummySelect = function (value) {\n      /* Dummy component to support forms */\n      return React.createElement(\"select\", {\n        name: _this.props.name,\n        ref: function (el) {\n          _this._select = el;\n        },\n        tabIndex: -1,\n        \"aria-hidden\": true,\n        title: _this.props.label,\n        style: {\n          opacity: 0,\n          width: 1,\n          border: 0,\n          zIndex: -1,\n          position: 'absolute',\n          left: '50%'\n        }\n      }, React.createElement(\"option\", {\n        value: _this.props.valueMap ? _this.props.valueMap.call(undefined, value) : value\n      }));\n    };\n\n    _this.renderListContainer = function () {\n      var _a;\n\n      var _b = _this.props,\n          header = _b.header,\n          footer = _b.footer,\n          dir = _b.dir,\n          _c = _b.data,\n          data = _c === void 0 ? [] : _c,\n          size = _b.size;\n      var base = _this.base;\n      var popupSettings = base.getPopupSettings();\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n      var listContainerProps = {\n        dir: dir !== undefined ? dir : base.dirCalculated,\n        width: popupWidth,\n        popupSettings: {\n          popupClass: classNames(popupSettings.popupClass, 'k-list', (_a = {}, _a[\"k-list-\".concat(sizeMap[size] || size)] = size, _a['k-virtual-list'] = _this.base.vs.enabled, _a)),\n          className: popupSettings.className,\n          animate: popupSettings.animate,\n          anchor: _this.element,\n          show: opened,\n          onOpen: _this.onPopupOpened,\n          onClose: _this.onPopupClosed,\n          appendTo: popupSettings.appendTo\n        },\n        itemsCount: [data.length]\n      };\n      return React.createElement(ListContainer, __assign({}, listContainerProps), _this.renderListFilter(), _this.renderDefaultItem(), header && React.createElement(\"div\", {\n        className: \"k-list-header\"\n      }, header), _this.renderList(), footer && React.createElement(\"div\", {\n        className: \"k-list-footer\"\n      }, footer));\n    };\n\n    _this.renderList = function () {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          textField = _a.textField,\n          dataItemKey = _a.dataItemKey,\n          _c = _a.virtual,\n          virtual = _c === void 0 ? {\n        skip: 0\n      } : _c,\n          listNoDataRender = _a.listNoDataRender,\n          itemRender = _a.itemRender;\n      var vs = _this.base.vs;\n      var skip = virtual.skip;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var popupSettings = _this.base.getPopupSettings();\n\n      var translate = \"translateY(\".concat(vs.translate, \"px)\");\n      return React.createElement(List, {\n        id: _this.base.listBoxId,\n        show: opened,\n        data: data.slice(),\n        focusedIndex: _this.focusedIndex(),\n        value: _this.value,\n        textField: textField,\n        valueField: dataItemKey,\n        optionsGuid: _this.base.guid,\n        listRef: function (list) {\n          return vs.list = _this.base.list = list;\n        },\n        wrapperStyle: {\n          maxHeight: popupSettings.height\n        },\n        wrapperCssClass: \"k-list-content\",\n        listStyle: vs.enabled ? {\n          transform: translate\n        } : undefined,\n        key: \"listkey\",\n        skip: skip,\n        onClick: _this.handleItemClick,\n        itemRender: itemRender,\n        noDataRender: listNoDataRender,\n        onScroll: function (e) {\n          vs.scrollHandler(e);\n        },\n        wrapperRef: vs.scrollerRef,\n        scroller: _this.base.renderScrollElement()\n      });\n    };\n\n    _this.renderListFilter = function () {\n      var filterText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      return _this.props.filterable && React.createElement(ListFilter, {\n        value: filterText,\n        ref: function (filter) {\n          return _this._filterInput = filter && filter.input;\n        },\n        onChange: _this.handleListFilterChange,\n        onKeyDown: _this.handleKeyDown,\n        size: _this.props.size,\n        rounded: _this.props.rounded,\n        fillMode: _this.props.fillMode\n      });\n    };\n\n    _this.renderDefaultItem = function () {\n      var _a = _this.props,\n          textField = _a.textField,\n          defaultItem = _a.defaultItem,\n          dataItemKey = _a.dataItemKey;\n      return defaultItem !== undefined && React.createElement(ListDefaultItem, {\n        defaultItem: defaultItem,\n        textField: textField,\n        selected: areSame(_this.value, defaultItem, dataItemKey),\n        key: \"defaultitemkey\",\n        onClick: _this.handleDefaultItemClick\n      });\n    };\n\n    _this.search = function (event) {\n      clearTimeout(_this._typingTimeout);\n\n      if (!_this.props.filterable) {\n        _this._typingTimeout = window.setTimeout(function () {\n          return _this.searchState.word = '';\n        }, _this.props.delay);\n\n        _this.selectNext(event);\n      }\n    };\n\n    _this.selectNext = function (event) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          dataItemKey = _a.dataItemKey;\n      var mappedData = data.map(function (item, idx) {\n        return {\n          item: item,\n          itemIndex: idx\n        };\n      });\n      var word = _this.searchState.word;\n      var last = _this.searchState.last;\n      var isInLoop = sameCharsOnly(word, last);\n      var dataLength = mappedData.length;\n      var startIndex = Math.max(0, data.findIndex(function (i) {\n        return areSame(i, _this.value, dataItemKey);\n      }));\n      var defaultItem;\n\n      if (_this.props.defaultItem) {\n        defaultItem = {\n          item: _this.props.defaultItem,\n          itemIndex: -1\n        };\n        dataLength += 1;\n        startIndex += 1;\n      }\n\n      startIndex += isInLoop ? 1 : 0;\n      mappedData = shuffleData(mappedData, startIndex, defaultItem);\n      var text,\n          loopMatch,\n          nextMatch,\n          index = 0;\n      var _c = _this.props,\n          textField = _c.textField,\n          ignoreCase = _c.ignoreCase;\n\n      for (; index < dataLength; index++) {\n        text = getItemValue(mappedData[index].item, textField);\n        loopMatch = isInLoop && matchText(text, last, ignoreCase);\n        nextMatch = matchText(text, word, ignoreCase);\n\n        if (loopMatch || nextMatch) {\n          index = mappedData[index].itemIndex;\n          break;\n        }\n      }\n\n      if (index !== dataLength) {\n        var state = _this.base.initState();\n\n        state.syntheticEvent = event;\n\n        _this.handleItemSelect(index, state);\n\n        _this.applyState(state);\n\n        _this._valueDuringOnChange = undefined;\n      }\n    };\n\n    _this.handleKeyDown = function (event) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          filterable = _a.filterable,\n          disabled = _a.disabled,\n          _c = _a.leftRightKeysNavigation,\n          leftRightKeysNavigation = _c === void 0 ? true : _c,\n          _d = _a.virtual,\n          virtual = _d === void 0 ? {\n        skip: 0,\n        total: 0,\n        pageSize: 0\n      } : _d;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var keyCode = event.keyCode;\n      var homeOrEndKeys = keyCode === Keys.home || keyCode === Keys.end;\n      var upOrDownKeys = keyCode === Keys.up || keyCode === Keys.down;\n      var shouldOpen = !opened && (event.altKey && keyCode === Keys.down || keyCode === Keys.enter || keyCode === Keys.space);\n      var shouldClose = opened && (event.altKey && keyCode === Keys.up || keyCode === Keys.esc);\n      var leftOrRightKeys = leftRightKeysNavigation && (keyCode === Keys.left || keyCode === Keys.right);\n      var shouldNavigate = upOrDownKeys || !filterable && (leftOrRightKeys || homeOrEndKeys);\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (disabled) {\n        return;\n      } else if (homeOrEndKeys && _this.base.vs.enabled) {\n        if (keyCode === Keys.home) {\n          if (virtual.skip !== 0) {\n            _this.base.triggerOnPageChange(state, 0, virtual.pageSize);\n\n            _this._navigated = true;\n          } else {\n            _this.triggerOnChange(data[0], state);\n          }\n        } else {\n          if (virtual.skip < virtual.total - virtual.pageSize) {\n            _this.base.triggerOnPageChange(state, virtual.total - virtual.pageSize, virtual.pageSize);\n\n            _this._navigated = true;\n          } else {\n            _this.triggerOnChange(data[data.length - 1], state);\n          }\n        }\n      } else if (opened && keyCode === Keys.enter) {\n        var focusedIndex = _this.focusedIndex();\n\n        if (focusedIndex !== undefined) {\n          _this.handleItemSelect(focusedIndex, state);\n        }\n\n        _this.base.togglePopup(state);\n\n        event.preventDefault();\n      } else if (shouldOpen || shouldClose) {\n        _this.base.togglePopup(state);\n\n        event.preventDefault();\n      } else if (shouldNavigate) {\n        _this.onNavigate(state, keyCode);\n\n        event.preventDefault();\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.handleItemClick = function (index, event) {\n      _this.base.handleItemClick(index, event);\n\n      _this._valueDuringOnChange = undefined;\n    };\n\n    _this.handleFocus = function (event) {\n      if (_this._skipFocusEvent) {\n        return;\n      }\n\n      _this.base.handleFocus(event);\n    };\n\n    _this.handleBlur = function (event) {\n      if (_this._skipFocusEvent || !_this.state.focused) {\n        return;\n      }\n\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n      state.data.focused = false;\n      state.events.push({\n        type: 'onBlur'\n      });\n\n      if (opened) {\n        _this.base.togglePopup(state);\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.handleDefaultItemClick = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      _this.base.togglePopup(state);\n\n      _this.triggerOnChange(_this.props.defaultItem, state);\n\n      _this.applyState(state);\n    };\n\n    _this.handleWrapperClick = function (event) {\n      if (event.isPropagationStopped()) {\n        return;\n      }\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (!_this.state.focused) {\n        state.data.focused = true;\n      }\n\n      _this.base.togglePopup(state);\n\n      _this.applyState(state);\n    };\n\n    _this.handleKeyPress = function (event) {\n      if (_this.props.filterable || event.which === 0 || event.keyCode === Keys.enter) {\n        return;\n      }\n\n      var character = String.fromCharCode(event.charCode || event.keyCode);\n\n      if (_this.props.ignoreCase) {\n        character = character.toLowerCase();\n      }\n\n      if (character === ' ') {\n        event.preventDefault();\n      }\n\n      _this.searchState = {\n        word: _this.searchState.word + character,\n        last: _this.searchState.last + character\n      };\n\n      _this.search(event);\n    };\n\n    _this.handleListFilterChange = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (_this.props.filter === undefined) {\n        state.data.text = event.target.value;\n      }\n\n      _this.base.filterChanged(event.target.value, state);\n\n      _this.applyState(state);\n    };\n\n    _this.onPopupOpened = function () {\n      if (_this._filterInput) {\n        _this.focusElement(_this._filterInput);\n      }\n    };\n\n    _this.onPopupClosed = function () {\n      if (_this.state.focused) {\n        window.setTimeout(function () {\n          if (_this.state.focused && _this.base.wrapper) {\n            _this.focusElement(_this.base.wrapper);\n          }\n        });\n      }\n    };\n\n    _this.setValidity = function () {\n      if (_this._select && _this._select.setCustomValidity) {\n        _this._select.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || VALIDATION_MESSAGE);\n      }\n    };\n\n    validatePackage(packageMetadata);\n    return _this;\n  }\n\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"element\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"value\", {\n    /**\n     * The value of the DropDownList.\n     */\n    get: function () {\n      var value;\n\n      if (this._valueDuringOnChange !== undefined) {\n        value = this._valueDuringOnChange;\n      } else if (this.props.value !== undefined) {\n        value = this.props.value;\n      } else if (this.state.value !== undefined) {\n        value = this.state.value;\n      } else if (this.props.defaultValue !== undefined) {\n        value = this.props.defaultValue;\n      }\n\n      if (!isPresent(value) && this.props.defaultItem !== undefined) {\n        value = this.props.defaultItem;\n      }\n\n      return value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"index\", {\n    /**\n     * The index of the selected item.\n     */\n    get: function () {\n      var _a = this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          dataItemKey = _a.dataItemKey;\n      var value = this.value; // TO DO: deprecate it!\n\n      return data.findIndex(function (i) {\n        return areSame(i, value, dataItemKey);\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the DropDownList.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the DropDownList is set.\n     */\n    get: function () {\n      var customError = this.props.validationMessage !== undefined;\n      var isValid = !this.required || this.value !== null && this.value !== '' && this.value !== undefined;\n      var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: this.value === null\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"validityStyles\", {\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : DropDownListWithoutContext.defaultProps.validityStyles;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DropDownListWithoutContext.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : DropDownListWithoutContext.defaultProps.required;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  DropDownListWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        dataItemKey = _a.dataItemKey,\n        virtual = _a.virtual;\n    var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n    var opening = !prevOpened && opened;\n    var closing = prevOpened && !opened;\n\n    if (!this.base.getPopupSettings().animate) {\n      if (opening) {\n        this.onPopupOpened();\n      } else if (closing) {// this.onPopupClosed();\n      }\n    }\n\n    if (virtual && virtual.total !== prevTotal) {\n      this.base.vs.calcScrollElementHeight();\n      this.base.vs.reset();\n    } else {\n      var selectedItem_1 = this.value;\n      var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n      var selectedItemIndex = data.findIndex(function (i) {\n        return areSame(i, selectedItem_1, dataItemKey);\n      });\n      var selectedItemChanged = !areSame(prevSelectedItem, selectedItem_1, dataItemKey);\n\n      if (opening && virtual) {\n        this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n      } else if (opening && !virtual) {\n        this.base.scrollToItem(selectedItemIndex);\n      } else if (opened && prevOpened && selectedItem_1 && selectedItemChanged && !this._navigated) {\n        this.base.scrollToItem(selectedItemIndex);\n      } else if (opened && prevOpened && this._navigated) {\n        if (this._navigated && virtual && virtual.skip === 0) {\n          this.base.vs.reset();\n        } else if (this._navigated && virtual && virtual.skip === virtual.total - virtual.pageSize) {\n          this.base.vs.scrollToEnd();\n        }\n      }\n    }\n\n    this._navigated = false;\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  DropDownListWithoutContext.prototype.componentDidMount = function () {\n    this.base.didMount();\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  DropDownListWithoutContext.prototype.render = function () {\n    var _a, _b;\n\n    var _c = this.props,\n        style = _c.style,\n        className = _c.className,\n        label = _c.label,\n        dir = _c.dir,\n        virtual = _c.virtual,\n        size = _c.size,\n        rounded = _c.rounded,\n        fillMode = _c.fillMode;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var value = this.value;\n    var text = getItemValue(value, this.props.textField);\n    var isValid = !this.validityStyles || this.validity.valid;\n    var base = this.base;\n    var vs = base.vs;\n    vs.enabled = virtual !== undefined;\n\n    if (virtual !== undefined) {\n      base.vs.skip = virtual.skip;\n      base.vs.total = virtual.total;\n      base.vs.pageSize = virtual.pageSize;\n    }\n\n    var _d = this.props,\n        dataItemKey = _d.dataItemKey,\n        _e = _d.data,\n        data = _e === void 0 ? [] : _e,\n        disabled = _d.disabled,\n        tabIndex = _d.tabIndex,\n        loading = _d.loading,\n        iconClassName = _d.iconClassName,\n        valueRender = _d.valueRender;\n    var focused = this.state.focused;\n    var selectedIndex = data.findIndex(function (i) {\n      return areSame(i, value, dataItemKey);\n    });\n    var valueDefaultRendering = React.createElement(\"span\", {\n      className: \"k-input-inner\"\n    }, React.createElement(\"span\", {\n      className: \"k-input-value-text\"\n    }, text));\n    var valueElement = valueRender !== undefined ? valueRender.call(undefined, valueDefaultRendering, value) : valueDefaultRendering;\n    var dropdownlist = React.createElement(\"span\", {\n      ref: this.componentRef,\n      className: classNames('k-dropdownlist k-picker', className, (_a = {}, _a[\"k-picker-\".concat(sizeMap[size] || size)] = size, _a[\"k-rounded-\".concat(roundedMap[rounded] || rounded)] = rounded, _a[\"k-picker-\".concat(fillMode)] = fillMode, _a['k-focus'] = focused, _a['k-disabled'] = disabled, _a['k-invalid'] = !isValid, _a['k-loading'] = loading, _a['k-required'] = this.required, _a)),\n      style: !label ? style : __assign(__assign({}, style), {\n        width: undefined\n      }),\n      dir: dir,\n      onMouseDown: opened ? preventDefaultNonInputs : undefined,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      tabIndex: getTabIndex(tabIndex, disabled),\n      accessKey: this.props.accessKey,\n      onKeyDown: this.handleKeyDown,\n      onKeyPress: this.handleKeyPress,\n      onClick: disabled ? undefined : this.handleWrapperClick,\n      role: 'listbox',\n      \"aria-required\": this.required,\n      \"aria-disabled\": disabled || undefined,\n      \"aria-haspopup\": true,\n      \"aria-expanded\": opened || false,\n      \"aria-owns\": this.base.listBoxId,\n      \"aria-activedescendant\": opened ? 'option-' + this.base.guid + '-' + (selectedIndex + (virtual ? virtual.skip : 0)) : undefined,\n      \"aria-label\": this.props.ariaLabel || this.props.label,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-describedby\": this.props.ariaDescribedBy,\n      id: this.props.id,\n      title: this.props.title\n    }, valueElement, loading && React.createElement(\"span\", {\n      className: \"k-icon k-i-loading k-input-loading-icon\",\n      key: \"loading\"\n    }), React.createElement(\"button\", {\n      tabIndex: -1,\n      type: \"button\",\n      \"aria-hidden\": true,\n      className: classNames('k-input-button k-button k-icon-button', (_b = {}, _b[\"k-button-\".concat(sizeMap[size] || size)] = size, _b[\"k-button-\".concat(fillMode)] = fillMode, _b[\"k-button-\".concat(fillMode, \"-base\")] = fillMode, _b)),\n      onMouseDown: function (e) {\n        return e.preventDefault();\n      }\n    }, React.createElement(\"span\", {\n      className: classNames('k-button-icon k-icon k-i-arrow-s', iconClassName)\n    })), this.dummySelect(value), this.renderListContainer());\n    return label ? React.createElement(FloatingLabel, {\n      label: label,\n      editorValue: text,\n      editorValid: isValid,\n      editorDisabled: this.props.disabled,\n      style: {\n        width: style ? style.width : undefined\n      },\n      children: dropdownlist\n    }) : dropdownlist;\n  };\n  /**\n   * @hidden\n   */\n\n\n  DropDownListWithoutContext.prototype.onNavigate = function (state, keyCode) {\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        defaultItem = _a.defaultItem,\n        dataItemKey = _a.dataItemKey,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0,\n      total: 0,\n      pageSize: 0\n    } : _c;\n    var vs = this.base.vs;\n    var value = this.value;\n    var index = data.findIndex(function (i) {\n      return areSame(i, value, dataItemKey);\n    });\n    var newIndex = this.base.navigation.navigate({\n      current: virtual.skip + index,\n      max: (vs.enabled ? virtual.total : data.length) - 1,\n      min: defaultItem !== undefined ? -1 : 0,\n      keyCode: keyCode\n    });\n\n    if (newIndex !== undefined) {\n      this.handleItemSelect(newIndex, state);\n    }\n\n    this.applyState(state);\n  };\n\n  DropDownListWithoutContext.prototype.focusedIndex = function () {\n    var filterText = isPresent(this.props.filter) ? this.props.filter : this.state.text;\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c,\n        dataItemKey = _a.dataItemKey,\n        textField = _a.textField,\n        focusedItemIndex = _a.focusedItemIndex;\n    var value = this.value;\n    var selectedIndex = data.findIndex(function (i) {\n      return areSame(i, value, dataItemKey);\n    });\n    var hasSelected = !(selectedIndex < 0 && !this.props.defaultItem);\n\n    if (!hasSelected && filterText && virtual.skip === 0) {\n      return focusedItemIndex ? focusedItemIndex(data, filterText, textField) : data.indexOf(getFocusedItem(data, filterText, textField));\n    } else {\n      return !hasSelected && virtual.skip === 0 ? 0 : undefined;\n    }\n  };\n\n  DropDownListWithoutContext.prototype.focusElement = function (element) {\n    var _this = this;\n\n    this._skipFocusEvent = true;\n    element.focus();\n    window.setTimeout(function () {\n      return _this._skipFocusEvent = false;\n    }, 30);\n  };\n\n  DropDownListWithoutContext.prototype.triggerOnChange = function (item, state) {\n    if (areSame(this.value, item, this.props.dataItemKey)) {\n      return;\n    }\n\n    if (this.props.value === undefined) {\n      state.data.value = item;\n    }\n\n    this._valueDuringOnChange = item;\n    state.events.push({\n      type: 'onChange'\n    });\n  };\n\n  DropDownListWithoutContext.prototype.applyState = function (state) {\n    this.base.applyState(state);\n    this._valueDuringOnChange = undefined;\n  };\n\n  DropDownListWithoutContext.displayName = 'DropDownList';\n  /**\n   * @hidden\n   */\n\n  DropDownListWithoutContext.propTypes = __assign({\n    delay: PropTypes.number,\n    ignoreCase: PropTypes.bool,\n    iconClassName: PropTypes.string,\n    defaultItem: PropTypes.any,\n    valueRender: PropTypes.func,\n    valueMap: PropTypes.func,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    ariaLabel: PropTypes.string,\n    leftRightKeysNavigation: PropTypes.bool,\n    title: PropTypes.string\n  }, DropDownBase.propTypes);\n  /**\n   * @hidden\n   */\n\n  DropDownListWithoutContext.defaultProps = __assign(__assign({\n    delay: 500,\n    tabIndex: 0,\n    ignoreCase: true\n  }, DropDownBase.defaultProps), {\n    required: false,\n    size: 'medium',\n    rounded: 'medium',\n    fillMode: 'solid'\n  });\n  return DropDownListWithoutContext;\n}(React.Component);\n\nexport { DropDownListWithoutContext };\n/**\n * Represents the PropsContext of the `DropDownList` component.\n * Used for global configuration of all `DropDownList` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\n\nexport var DropDownListPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n\n/**\n * Represents the [KendoReact DropDownList component]({% slug overview_dropdownlist %}).\n *\n * Accepts properties of type [DropDownListProps]({% slug api_dropdowns_dropdownlistprops %}).\n * Obtaining the `ref` returns an object of type [DropDownListHandle]({% slug api_dropdowns_dropdownlisthandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    dropdownlist = null;\n *    render() {\n *       return (\n *          <div>\n *              <DropDownList\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.dropdownlist = component}\n *              />\n *              <button onClick={() => alert(this.dropdownlist.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nexport var DropDownList = withPropsContext(DropDownListPropsContext, DropDownListWithoutContext);\nDropDownList.displayName = 'KendoReactDropDownList';","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","React","PropTypes","classNames","Keys","getTabIndex","createPropsContext","withPropsContext","kendoThemeMaps","FloatingLabel","ListContainer","ListFilter","ListDefaultItem","List","DropDownBase","isPresent","getItemValue","sameCharsOnly","shuffleData","matchText","areSame","preventDefaultNonInputs","getFocusedItem","validatePackage","packageMetadata","VALIDATION_MESSAGE","sizeMap","roundedMap","DropDownListWithoutContext","_super","props","_this","state","_element","base","searchState","word","last","_select","_skipFocusEvent","_filterInput","_navigated","focus","wrapper","handleItemSelect","index","_a","_b","data","virtual","dataItemKey","defaultItem","skip","item","undefined","newSelected","value","triggerOnChange","triggerPageChangeCornerItems","componentRef","element","dummySelect","createElement","name","ref","el","tabIndex","title","label","style","opacity","width","border","zIndex","position","left","valueMap","renderListContainer","header","footer","dir","_c","size","popupSettings","getPopupSettings","opened","popupWidth","listContainerProps","dirCalculated","popupClass","concat","vs","enabled","className","animate","anchor","show","onOpen","onPopupOpened","onClose","onPopupClosed","appendTo","itemsCount","renderListFilter","renderDefaultItem","renderList","textField","listNoDataRender","itemRender","translate","id","listBoxId","slice","focusedIndex","valueField","optionsGuid","guid","listRef","list","wrapperStyle","maxHeight","height","wrapperCssClass","listStyle","transform","key","onClick","handleItemClick","noDataRender","onScroll","e","scrollHandler","wrapperRef","scrollerRef","scroller","renderScrollElement","filterText","filter","text","filterable","input","onChange","handleListFilterChange","onKeyDown","handleKeyDown","rounded","fillMode","selected","handleDefaultItemClick","search","event","clearTimeout","_typingTimeout","window","setTimeout","delay","selectNext","mappedData","map","idx","itemIndex","isInLoop","dataLength","startIndex","Math","max","findIndex","loopMatch","nextMatch","ignoreCase","initState","syntheticEvent","applyState","_valueDuringOnChange","disabled","leftRightKeysNavigation","_d","total","pageSize","keyCode","homeOrEndKeys","home","end","upOrDownKeys","up","down","shouldOpen","altKey","enter","space","shouldClose","esc","leftOrRightKeys","right","shouldNavigate","triggerOnPageChange","togglePopup","preventDefault","onNavigate","handleFocus","handleBlur","focused","events","push","type","handleWrapperClick","isPropagationStopped","handleKeyPress","which","character","fromCharCode","charCode","toLowerCase","target","filterChanged","focusElement","setValidity","setCustomValidity","validity","valid","validationMessage","defineProperty","get","enumerable","configurable","defaultValue","customError","isValid","required","valueMissing","validityStyles","defaultProps","componentDidUpdate","prevProps","prevState","prevTotal","prevOpened","opening","closing","calcScrollElementHeight","reset","selectedItem_1","prevSelectedItem","selectedItemIndex","selectedItemChanged","scrollToVirtualItem","scrollToItem","scrollToEnd","componentDidMount","didMount","render","_e","loading","iconClassName","valueRender","selectedIndex","valueDefaultRendering","valueElement","dropdownlist","onMouseDown","onFocus","onBlur","accessKey","onKeyPress","role","ariaLabel","ariaLabelledBy","ariaDescribedBy","editorValue","editorValid","editorDisabled","children","newIndex","navigation","navigate","current","min","focusedItemIndex","hasSelected","indexOf","displayName","propTypes","number","bool","string","any","func","Component","DropDownListPropsContext","DropDownList"],"sources":["C:/Users/seba2/Documents/GitHub/CloudDrive_CE2103/webApp/test.app/node_modules/@progress/kendo-react-dropdowns/dist/es/DropDownList/DropDownList.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, getTabIndex, createPropsContext, withPropsContext, kendoThemeMaps } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport ListFilter from '../common/ListFilter';\nimport ListDefaultItem from '../common/ListDefaultItem';\nimport List from '../common/List';\nimport DropDownBase from '../common/DropDownBase';\nimport { isPresent, getItemValue, sameCharsOnly, shuffleData, matchText, areSame, preventDefaultNonInputs, getFocusedItem } from '../common/utils';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nvar VALIDATION_MESSAGE = 'Please select a value from the list!';\nvar sizeMap = kendoThemeMaps.sizeMap, roundedMap = kendoThemeMaps.roundedMap;\n/**\n * @hidden\n */\nvar DropDownListWithoutContext = /** @class */ (function (_super) {\n    __extends(DropDownListWithoutContext, _super);\n    function DropDownListWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this._element = null;\n        _this.base = new DropDownBase(_this);\n        _this.searchState = { word: '', last: '' };\n        _this._select = null;\n        _this._skipFocusEvent = false;\n        _this._filterInput = null;\n        _this._navigated = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this.base.wrapper) {\n                _this.base.wrapper.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, virtual = _a.virtual, dataItemKey = _a.dataItemKey, defaultItem = _a.defaultItem;\n            var skip = virtual ? virtual.skip : 0;\n            var item = (index === -1 && defaultItem !== undefined) ?\n                defaultItem : data[index - skip];\n            var newSelected = !areSame(item, _this.value, dataItemKey);\n            _this.triggerOnChange(item, state);\n            if (newSelected) {\n                _this.base.triggerPageChangeCornerItems(item, state);\n            }\n        };\n        _this.componentRef = function (element) {\n            _this._element = element;\n            _this.base.wrapper = element;\n        };\n        _this.dummySelect = function (value) {\n            /* Dummy component to support forms */\n            return (React.createElement(\"select\", { name: _this.props.name, ref: function (el) { _this._select = el; }, tabIndex: -1, \"aria-hidden\": true, title: _this.props.label, style: { opacity: 0, width: 1, border: 0, zIndex: -1, position: 'absolute', left: '50%' } },\n                React.createElement(\"option\", { value: _this.props.valueMap ? _this.props.valueMap.call(undefined, value) : value })));\n        };\n        _this.renderListContainer = function () {\n            var _a;\n            var _b = _this.props, header = _b.header, footer = _b.footer, dir = _b.dir, _c = _b.data, data = _c === void 0 ? [] : _c, size = _b.size;\n            var base = _this.base;\n            var popupSettings = base.getPopupSettings();\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n            var listContainerProps = {\n                dir: dir !== undefined ? dir : base.dirCalculated,\n                width: popupWidth,\n                popupSettings: {\n                    popupClass: classNames(popupSettings.popupClass, 'k-list', (_a = {},\n                        _a[\"k-list-\".concat(sizeMap[size] || size)] = size,\n                        _a['k-virtual-list'] = _this.base.vs.enabled,\n                        _a)),\n                    className: popupSettings.className,\n                    animate: popupSettings.animate,\n                    anchor: _this.element,\n                    show: opened,\n                    onOpen: _this.onPopupOpened,\n                    onClose: _this.onPopupClosed,\n                    appendTo: popupSettings.appendTo\n                },\n                itemsCount: [data.length]\n            };\n            return (React.createElement(ListContainer, __assign({}, listContainerProps),\n                _this.renderListFilter(),\n                _this.renderDefaultItem(),\n                header && React.createElement(\"div\", { className: \"k-list-header\" }, header),\n                _this.renderList(),\n                footer && React.createElement(\"div\", { className: \"k-list-footer\" }, footer)));\n        };\n        _this.renderList = function () {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender;\n            var vs = _this.base.vs;\n            var skip = virtual.skip;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var popupSettings = _this.base.getPopupSettings();\n            var translate = \"translateY(\".concat(vs.translate, \"px)\");\n            return (React.createElement(List, { id: _this.base.listBoxId, show: opened, data: data.slice(), focusedIndex: _this.focusedIndex(), value: _this.value, textField: textField, valueField: dataItemKey, optionsGuid: _this.base.guid, listRef: function (list) { return vs.list = _this.base.list = list; }, wrapperStyle: { maxHeight: popupSettings.height }, wrapperCssClass: \"k-list-content\", listStyle: vs.enabled ? { transform: translate } : undefined, key: \"listkey\", skip: skip, onClick: _this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender, onScroll: function (e) {\n                    vs.scrollHandler(e);\n                }, wrapperRef: vs.scrollerRef, scroller: _this.base.renderScrollElement() }));\n        };\n        _this.renderListFilter = function () {\n            var filterText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            return _this.props.filterable && (React.createElement(ListFilter, { value: filterText, ref: function (filter) { return _this._filterInput = filter && filter.input; }, onChange: _this.handleListFilterChange, onKeyDown: _this.handleKeyDown, size: _this.props.size, rounded: _this.props.rounded, fillMode: _this.props.fillMode }));\n        };\n        _this.renderDefaultItem = function () {\n            var _a = _this.props, textField = _a.textField, defaultItem = _a.defaultItem, dataItemKey = _a.dataItemKey;\n            return defaultItem !== undefined && (React.createElement(ListDefaultItem, { defaultItem: defaultItem, textField: textField, selected: areSame(_this.value, defaultItem, dataItemKey), key: \"defaultitemkey\", onClick: _this.handleDefaultItemClick }));\n        };\n        _this.search = function (event) {\n            clearTimeout(_this._typingTimeout);\n            if (!_this.props.filterable) {\n                _this._typingTimeout = window.setTimeout(function () { return _this.searchState.word = ''; }, _this.props.delay);\n                _this.selectNext(event);\n            }\n        };\n        _this.selectNext = function (event) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var mappedData = data.map(function (item, idx) {\n                return { item: item, itemIndex: idx };\n            });\n            var word = _this.searchState.word;\n            var last = _this.searchState.last;\n            var isInLoop = sameCharsOnly(word, last);\n            var dataLength = mappedData.length;\n            var startIndex = Math.max(0, data.findIndex(function (i) { return areSame(i, _this.value, dataItemKey); }));\n            var defaultItem;\n            if (_this.props.defaultItem) {\n                defaultItem = { item: _this.props.defaultItem, itemIndex: -1 };\n                dataLength += 1;\n                startIndex += 1;\n            }\n            startIndex += isInLoop ? 1 : 0;\n            mappedData = shuffleData(mappedData, startIndex, defaultItem);\n            var text, loopMatch, nextMatch, index = 0;\n            var _c = _this.props, textField = _c.textField, ignoreCase = _c.ignoreCase;\n            for (; index < dataLength; index++) {\n                text = getItemValue(mappedData[index].item, textField);\n                loopMatch = isInLoop && matchText(text, last, ignoreCase);\n                nextMatch = matchText(text, word, ignoreCase);\n                if (loopMatch || nextMatch) {\n                    index = mappedData[index].itemIndex;\n                    break;\n                }\n            }\n            if (index !== dataLength) {\n                var state = _this.base.initState();\n                state.syntheticEvent = event;\n                _this.handleItemSelect(index, state);\n                _this.applyState(state);\n                _this._valueDuringOnChange = undefined;\n            }\n        };\n        _this.handleKeyDown = function (event) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, filterable = _a.filterable, disabled = _a.disabled, _c = _a.leftRightKeysNavigation, leftRightKeysNavigation = _c === void 0 ? true : _c, _d = _a.virtual, virtual = _d === void 0 ? { skip: 0, total: 0, pageSize: 0 } : _d;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var keyCode = event.keyCode;\n            var homeOrEndKeys = keyCode === Keys.home || keyCode === Keys.end;\n            var upOrDownKeys = keyCode === Keys.up || keyCode === Keys.down;\n            var shouldOpen = !opened &&\n                ((event.altKey && keyCode === Keys.down) || keyCode === Keys.enter || keyCode === Keys.space);\n            var shouldClose = opened && ((event.altKey && keyCode === Keys.up) || keyCode === Keys.esc);\n            var leftOrRightKeys = leftRightKeysNavigation && (keyCode === Keys.left || keyCode === Keys.right);\n            var shouldNavigate = upOrDownKeys || (!filterable && (leftOrRightKeys || homeOrEndKeys));\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (disabled) {\n                return;\n            }\n            else if (homeOrEndKeys && _this.base.vs.enabled) {\n                if (keyCode === Keys.home) {\n                    if (virtual.skip !== 0) {\n                        _this.base.triggerOnPageChange(state, 0, virtual.pageSize);\n                        _this._navigated = true;\n                    }\n                    else {\n                        _this.triggerOnChange(data[0], state);\n                    }\n                }\n                else {\n                    if (virtual.skip < virtual.total - virtual.pageSize) {\n                        _this.base.triggerOnPageChange(state, virtual.total - virtual.pageSize, virtual.pageSize);\n                        _this._navigated = true;\n                    }\n                    else {\n                        _this.triggerOnChange(data[data.length - 1], state);\n                    }\n                }\n            }\n            else if (opened && keyCode === Keys.enter) {\n                var focusedIndex = _this.focusedIndex();\n                if (focusedIndex !== undefined) {\n                    _this.handleItemSelect(focusedIndex, state);\n                }\n                _this.base.togglePopup(state);\n                event.preventDefault();\n            }\n            else if (shouldOpen || shouldClose) {\n                _this.base.togglePopup(state);\n                event.preventDefault();\n            }\n            else if (shouldNavigate) {\n                _this.onNavigate(state, keyCode);\n                event.preventDefault();\n            }\n            _this.applyState(state);\n        };\n        _this.handleItemClick = function (index, event) {\n            _this.base.handleItemClick(index, event);\n            _this._valueDuringOnChange = undefined;\n        };\n        _this.handleFocus = function (event) {\n            if (_this._skipFocusEvent) {\n                return;\n            }\n            _this.base.handleFocus(event);\n        };\n        _this.handleBlur = function (event) {\n            if (_this._skipFocusEvent || !_this.state.focused) {\n                return;\n            }\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            state.data.focused = false;\n            state.events.push({ type: 'onBlur' });\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.handleDefaultItemClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            _this.base.togglePopup(state);\n            _this.triggerOnChange(_this.props.defaultItem, state);\n            _this.applyState(state);\n        };\n        _this.handleWrapperClick = function (event) {\n            if (event.isPropagationStopped()) {\n                return;\n            }\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!_this.state.focused) {\n                state.data.focused = true;\n            }\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.handleKeyPress = function (event) {\n            if (_this.props.filterable || event.which === 0 || event.keyCode === Keys.enter) {\n                return;\n            }\n            var character = String.fromCharCode(event.charCode || event.keyCode);\n            if (_this.props.ignoreCase) {\n                character = character.toLowerCase();\n            }\n            if (character === ' ') {\n                event.preventDefault();\n            }\n            _this.searchState = {\n                word: _this.searchState.word + character,\n                last: _this.searchState.last + character\n            };\n            _this.search(event);\n        };\n        _this.handleListFilterChange = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (_this.props.filter === undefined) {\n                state.data.text = event.target.value;\n            }\n            _this.base.filterChanged(event.target.value, state);\n            _this.applyState(state);\n        };\n        _this.onPopupOpened = function () {\n            if (_this._filterInput) {\n                _this.focusElement(_this._filterInput);\n            }\n        };\n        _this.onPopupClosed = function () {\n            if (_this.state.focused) {\n                window.setTimeout(function () {\n                    if (_this.state.focused && _this.base.wrapper) {\n                        _this.focusElement(_this.base.wrapper);\n                    }\n                });\n            }\n        };\n        _this.setValidity = function () {\n            if (_this._select && _this._select.setCustomValidity) {\n                _this._select.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"value\", {\n        /**\n         * The value of the DropDownList.\n         */\n        get: function () {\n            var value;\n            if (this._valueDuringOnChange !== undefined) {\n                value = this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                value = this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                value = this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                value = this.props.defaultValue;\n            }\n            if (!isPresent(value) && this.props.defaultItem !== undefined) {\n                value = this.props.defaultItem;\n            }\n            return value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"index\", {\n        /**\n         * The index of the selected item.\n         */\n        get: function () {\n            var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var value = this.value;\n            // TO DO: deprecate it!\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the DropDownList.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the DropDownList is set.\n         */\n        get: function () {\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required\n                || (this.value !== null && this.value !== '' && this.value !== undefined));\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"validityStyles\", {\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : DropDownListWithoutContext.defaultProps.validityStyles;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListWithoutContext.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : DropDownListWithoutContext.defaultProps.required;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n        var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        var closing = prevOpened && !opened;\n        if (!this.base.getPopupSettings().animate) {\n            if (opening) {\n                this.onPopupOpened();\n            }\n            else if (closing) {\n                // this.onPopupClosed();\n            }\n        }\n        if (virtual && virtual.total !== prevTotal) {\n            this.base.vs.calcScrollElementHeight();\n            this.base.vs.reset();\n        }\n        else {\n            var selectedItem_1 = this.value;\n            var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n            var selectedItemIndex = data.findIndex(function (i) { return areSame(i, selectedItem_1, dataItemKey); });\n            var selectedItemChanged = !areSame(prevSelectedItem, selectedItem_1, dataItemKey);\n            if (opening && virtual) {\n                this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n            }\n            else if (opening && !virtual) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && selectedItem_1 && selectedItemChanged && !this._navigated) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && this._navigated) {\n                if (this._navigated && virtual && virtual.skip === 0) {\n                    this.base.vs.reset();\n                }\n                else if (this._navigated && virtual && virtual.skip === virtual.total - virtual.pageSize) {\n                    this.base.vs.scrollToEnd();\n                }\n            }\n        }\n        this._navigated = false;\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.prototype.render = function () {\n        var _a, _b;\n        var _c = this.props, style = _c.style, className = _c.className, label = _c.label, dir = _c.dir, virtual = _c.virtual, size = _c.size, rounded = _c.rounded, fillMode = _c.fillMode;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var value = this.value;\n        var text = getItemValue(value, this.props.textField);\n        var isValid = !this.validityStyles || this.validity.valid;\n        var base = this.base;\n        var vs = base.vs;\n        vs.enabled = virtual !== undefined;\n        if (virtual !== undefined) {\n            base.vs.skip = virtual.skip;\n            base.vs.total = virtual.total;\n            base.vs.pageSize = virtual.pageSize;\n        }\n        var _d = this.props, dataItemKey = _d.dataItemKey, _e = _d.data, data = _e === void 0 ? [] : _e, disabled = _d.disabled, tabIndex = _d.tabIndex, loading = _d.loading, iconClassName = _d.iconClassName, valueRender = _d.valueRender;\n        var focused = this.state.focused;\n        var selectedIndex = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        var valueDefaultRendering = (React.createElement(\"span\", { className: \"k-input-inner\" },\n            React.createElement(\"span\", { className: \"k-input-value-text\" }, text)));\n        var valueElement = valueRender !== undefined ?\n            valueRender.call(undefined, valueDefaultRendering, value) : valueDefaultRendering;\n        var dropdownlist = (React.createElement(\"span\", { ref: this.componentRef, className: classNames('k-dropdownlist k-picker', className, (_a = {},\n                _a[\"k-picker-\".concat(sizeMap[size] || size)] = size,\n                _a[\"k-rounded-\".concat(roundedMap[rounded] || rounded)] = rounded,\n                _a[\"k-picker-\".concat(fillMode)] = fillMode,\n                _a['k-focus'] = focused,\n                _a['k-disabled'] = disabled,\n                _a['k-invalid'] = !isValid,\n                _a['k-loading'] = loading,\n                _a['k-required'] = this.required,\n                _a)), style: !label\n                ? style\n                : __assign(__assign({}, style), { width: undefined }), dir: dir, onMouseDown: opened ? preventDefaultNonInputs : undefined, onFocus: this.handleFocus, onBlur: this.handleBlur, tabIndex: getTabIndex(tabIndex, disabled), accessKey: this.props.accessKey, onKeyDown: this.handleKeyDown, onKeyPress: this.handleKeyPress, onClick: disabled ? undefined : this.handleWrapperClick, role: 'listbox', \"aria-required\": this.required, \"aria-disabled\": disabled || undefined, \"aria-haspopup\": true, \"aria-expanded\": opened || false, \"aria-owns\": this.base.listBoxId, \"aria-activedescendant\": opened ? ('option-' + this.base.guid + '-' + (selectedIndex + (virtual ? virtual.skip : 0))) : undefined, \"aria-label\": this.props.ariaLabel || this.props.label, \"aria-labelledby\": this.props.ariaLabelledBy, \"aria-describedby\": this.props.ariaDescribedBy, id: this.props.id, title: this.props.title },\n            valueElement,\n            loading && React.createElement(\"span\", { className: \"k-icon k-i-loading k-input-loading-icon\", key: \"loading\" }),\n            React.createElement(\"button\", { tabIndex: -1, type: \"button\", \"aria-hidden\": true, className: classNames('k-input-button k-button k-icon-button', (_b = {},\n                    _b[\"k-button-\".concat(sizeMap[size] || size)] = size,\n                    _b[\"k-button-\".concat(fillMode)] = fillMode,\n                    _b[\"k-button-\".concat(fillMode, \"-base\")] = fillMode,\n                    _b)), onMouseDown: function (e) { return e.preventDefault(); } },\n                React.createElement(\"span\", { className: classNames('k-button-icon k-icon k-i-arrow-s', iconClassName) })),\n            this.dummySelect(value),\n            this.renderListContainer()));\n        return label ? (React.createElement(FloatingLabel, { label: label, editorValue: text, editorValid: isValid, editorDisabled: this.props.disabled, style: { width: style ? style.width : undefined }, children: dropdownlist })) : dropdownlist;\n    };\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.prototype.onNavigate = function (state, keyCode) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, defaultItem = _a.defaultItem, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0, total: 0, pageSize: 0 } : _c;\n        var vs = this.base.vs;\n        var value = this.value;\n        var index = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        var newIndex = this.base.navigation.navigate({\n            current: virtual.skip + index,\n            max: (vs.enabled ? virtual.total : data.length) - 1,\n            min: defaultItem !== undefined ? -1 : 0,\n            keyCode: keyCode\n        });\n        if (newIndex !== undefined) {\n            this.handleItemSelect(newIndex, state);\n        }\n        this.applyState(state);\n    };\n    DropDownListWithoutContext.prototype.focusedIndex = function () {\n        var filterText = isPresent(this.props.filter) ? this.props.filter : this.state.text;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, dataItemKey = _a.dataItemKey, textField = _a.textField, focusedItemIndex = _a.focusedItemIndex;\n        var value = this.value;\n        var selectedIndex = data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        var hasSelected = !(selectedIndex < 0 && !this.props.defaultItem);\n        if (!hasSelected && filterText && virtual.skip === 0) {\n            return focusedItemIndex ? focusedItemIndex(data, filterText, textField) :\n                data.indexOf(getFocusedItem(data, filterText, textField));\n        }\n        else {\n            return !hasSelected && virtual.skip === 0 ? 0 : undefined;\n        }\n    };\n    DropDownListWithoutContext.prototype.focusElement = function (element) {\n        var _this = this;\n        this._skipFocusEvent = true;\n        element.focus();\n        window.setTimeout(function () { return _this._skipFocusEvent = false; }, 30);\n    };\n    DropDownListWithoutContext.prototype.triggerOnChange = function (item, state) {\n        if (areSame(this.value, item, this.props.dataItemKey)) {\n            return;\n        }\n        if (this.props.value === undefined) {\n            state.data.value = item;\n        }\n        this._valueDuringOnChange = item;\n        state.events.push({ type: 'onChange' });\n    };\n    DropDownListWithoutContext.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueDuringOnChange = undefined;\n    };\n    DropDownListWithoutContext.displayName = 'DropDownList';\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.propTypes = __assign({ delay: PropTypes.number, ignoreCase: PropTypes.bool, iconClassName: PropTypes.string, defaultItem: PropTypes.any, valueRender: PropTypes.func, valueMap: PropTypes.func, validationMessage: PropTypes.string, required: PropTypes.bool, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string, ariaLabel: PropTypes.string, leftRightKeysNavigation: PropTypes.bool, title: PropTypes.string }, DropDownBase.propTypes);\n    /**\n     * @hidden\n     */\n    DropDownListWithoutContext.defaultProps = __assign(__assign({ delay: 500, tabIndex: 0, ignoreCase: true }, DropDownBase.defaultProps), { required: false, size: 'medium', rounded: 'medium', fillMode: 'solid' });\n    return DropDownListWithoutContext;\n}(React.Component));\nexport { DropDownListWithoutContext };\n/**\n * Represents the PropsContext of the `DropDownList` component.\n * Used for global configuration of all `DropDownList` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\nexport var DropDownListPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the [KendoReact DropDownList component]({% slug overview_dropdownlist %}).\n *\n * Accepts properties of type [DropDownListProps]({% slug api_dropdowns_dropdownlistprops %}).\n * Obtaining the `ref` returns an object of type [DropDownListHandle]({% slug api_dropdowns_dropdownlisthandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    dropdownlist = null;\n *    render() {\n *       return (\n *          <div>\n *              <DropDownList\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.dropdownlist = component}\n *              />\n *              <button onClick={() => alert(this.dropdownlist.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var DropDownList = withPropsContext(DropDownListPropsContext, DropDownListWithoutContext);\nDropDownList.displayName = 'KendoReactDropDownList';\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}