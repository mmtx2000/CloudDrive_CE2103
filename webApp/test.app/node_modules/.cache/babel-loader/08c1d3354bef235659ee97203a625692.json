{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport DropDownBase from '../common/DropDownBase';\nimport { guid, classNames, Keys, createPropsContext, withPropsContext, kendoThemeMaps } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { areSame, itemIndexStartsWith, getItemIndexByText, getItemValue, isPresent, suggestValue } from '../common/utils';\nimport SearchBar from '../common/SearchBar';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport ClearButton from '../common/ClearButton';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\nvar sizeMap = kendoThemeMaps.sizeMap,\n    roundedMap = kendoThemeMaps.roundedMap;\n/** @hidden */\n\nvar ComboBoxWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(ComboBoxWithoutContext, _super);\n\n  function ComboBoxWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.state = {};\n    _this.base = new DropDownBase(_this);\n    _this._element = null;\n    _this._inputId = guid();\n    _this._suggested = '';\n    _this._input = null;\n    _this.itemHeight = 0;\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this._input) {\n        _this._input.focus();\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.handleItemSelect = function (index, state) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          virtual = _a.virtual,\n          dataItemKey = _a.dataItemKey;\n      var skip = virtual ? virtual.skip : 0;\n      var item = data[index - skip];\n      var newSelected = !areSame(item, _this.value, dataItemKey);\n\n      _this.triggerOnChange(item, state);\n\n      if (_this.state.text !== undefined) {\n        state.data.text = undefined;\n      }\n\n      if (newSelected) {\n        _this.base.triggerPageChangeCornerItems(item, state);\n      }\n    };\n\n    _this.componentRef = function (element) {\n      _this._element = element;\n      _this.base.wrapper = element;\n    };\n\n    _this.toggleBtnClick = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      _this.base.togglePopup(state);\n\n      _this.applyState(state);\n    };\n\n    _this.onScroll = function (event) {\n      var _a = _this.base,\n          vs = _a.vs,\n          list = _a.list;\n      vs.scrollHandler(event);\n      var _b = _this.props,\n          _c = _b.data,\n          data = _c === void 0 ? [] : _c,\n          groupField = _b.groupField;\n\n      if (!groupField || !data.length) {\n        return;\n      }\n\n      var itemHeight = _this.itemHeight = _this.itemHeight || (vs.enabled ? vs.itemHeight : list ? list.children[0].offsetHeight : 0);\n      var target = event.target;\n      var scrollTop = target.scrollTop - vs.skip * itemHeight;\n      var group = data[0][groupField];\n\n      for (var i = 1; i < data.length; i++) {\n        if (itemHeight * i > scrollTop) {\n          break;\n        }\n\n        if (data[i] && data[i][groupField]) {\n          group = data[i][groupField];\n        }\n      }\n\n      if (group !== _this.state.group) {\n        _this.setState({\n          group: group\n        });\n\n        if (_this.props.onGroupScroll) {\n          _this.props.onGroupScroll.call(undefined, {\n            group: group\n          });\n        }\n      }\n    };\n\n    _this.handleItemClick = function (index, event) {\n      _this.base.handleItemClick(index, event);\n\n      _this._valueDuringOnChange = undefined;\n    };\n\n    _this.handleBlur = function (event) {\n      if (_this.state.focused) {\n        var state = _this.base.initState();\n\n        state.data.focused = false;\n        state.events.push({\n          type: 'onBlur'\n        });\n        state.syntheticEvent = event;\n\n        _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n      }\n    };\n\n    _this.onInputKeyDown = function (event) {\n      var keyCode = event.keyCode;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (!event.altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n        event.preventDefault();\n\n        _this.onNavigate(state, keyCode);\n\n        _this.applyState(state);\n\n        return;\n      }\n\n      var togglePopup = function () {\n        event.preventDefault();\n\n        _this.base.togglePopup(state);\n\n        _this.applyState(state);\n      };\n\n      if (opened) {\n        if (event.altKey && keyCode === Keys.up) {\n          togglePopup();\n        } else if (keyCode === Keys.enter) {\n          event.preventDefault();\n\n          _this.applyValueOnEnter(event.currentTarget.value, state);\n        } else if (keyCode === Keys.esc) {\n          _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n        }\n      } else if (event.altKey && keyCode === Keys.down) {\n        togglePopup();\n      }\n    };\n\n    _this.inputOnChange = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var input = event.currentTarget;\n      var value = input.value;\n\n      if (_this.props.suggest) {\n        var selectionAtEnd = input.selectionEnd === value.length;\n        var prevText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n\n        if (!isPresent(prevText)) {\n          prevText = getItemValue(_this.value, _this.props.textField) || '';\n        }\n\n        var deletedSuggestion = prevText && prevText === value;\n        var deleting = prevText && prevText.length > value.length;\n\n        if (deletedSuggestion || deleting || !selectionAtEnd) {\n          _this._suggested = '';\n        } else {\n          _this.suggestValue(value);\n        }\n      }\n\n      if (_this.props.filter === undefined) {\n        state.data.text = value;\n      }\n\n      if (_this.state.focusedItem !== undefined) {\n        state.data.focusedItem = undefined;\n      }\n\n      if (!opened) {\n        _this.base.togglePopup(state);\n      }\n\n      _this.base.filterChanged(value, state);\n\n      _this.applyState(state);\n    };\n\n    _this.clearButtonClick = function (event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n      event.stopPropagation();\n      _this._suggested = '';\n\n      _this.base.filterChanged('', state);\n\n      if (_this.props.filter === undefined && _this.state.text !== undefined) {\n        state.data.text = undefined;\n      }\n\n      _this.triggerOnChange(null, state);\n\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      if (opened) {\n        _this.base.togglePopup(state);\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.setValidity = function () {\n      if (_this._input && _this._input.setCustomValidity) {\n        _this._input.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || VALIDATION_MESSAGE);\n      }\n    };\n\n    validatePackage(packageMetadata);\n    return _this;\n  }\n\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"element\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"value\", {\n    /**\n     * The value of the ComboBox.\n     */\n    get: function () {\n      if (this._valueDuringOnChange !== undefined) {\n        return this._valueDuringOnChange;\n      } else if (this.props.value !== undefined) {\n        return this.props.value;\n      } else if (this.state.value !== undefined) {\n        return this.state.value;\n      } else if (this.props.defaultValue !== undefined) {\n        return this.props.defaultValue;\n      }\n\n      return undefined;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"index\", {\n    /**\n     * The index of the selected item.\n     */\n    get: function () {\n      var _a = this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          dataItemKey = _a.dataItemKey;\n      var value = this.value; // TO DO: deprecate it!\n\n      return data.findIndex(function (i) {\n        return areSame(i, value, dataItemKey);\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the ComboBox.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the component is set.\n     */\n    get: function () {\n      // remove the undefined check when this is fixed:\n      // https://github.com/telerik/kendo-react-private/issues/252\n      var customError = this.props.validationMessage !== undefined;\n      var isValid = !this.required || this.value !== null && this.value !== '' && this.value !== undefined;\n      var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: this.value === null\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"validityStyles\", {\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : ComboBoxWithoutContext.defaultProps.validityStyles;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : ComboBoxWithoutContext.defaultProps.required;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  ComboBoxWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        dataItemKey = _a.dataItemKey,\n        virtual = _a.virtual;\n    var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n    var opening = !prevOpened && opened;\n    var selectedItem = this.value;\n    this._valueOnDidUpdate = selectedItem;\n\n    if (virtual && virtual.total !== prevTotal) {\n      this.base.vs.calcScrollElementHeight();\n      this.base.vs.reset();\n    } else {\n      var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n      var selectedItemIndex = data.findIndex(function (i) {\n        return areSame(i, selectedItem, dataItemKey);\n      });\n      var selectedItemChanged = !areSame(prevSelectedItem, selectedItem, dataItemKey);\n\n      if (opening && virtual) {\n        this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n      } else if (opening && !virtual) {\n        this.base.scrollToItem(selectedItemIndex);\n      } else if (opened && prevOpened && selectedItem && selectedItemChanged) {\n        this.base.scrollToItem(selectedItemIndex);\n      }\n    }\n\n    if (opening && this._input) {\n      this._input.focus();\n    }\n\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  ComboBoxWithoutContext.prototype.componentDidMount = function () {\n    this.base.didMount();\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  ComboBoxWithoutContext.prototype.render = function () {\n    var _a, _b;\n\n    var _c = this.props,\n        dir = _c.dir,\n        disabled = _c.disabled,\n        _d = _c.clearButton,\n        clearButton = _d === void 0 ? ComboBoxWithoutContext.defaultProps.clearButton : _d,\n        label = _c.label,\n        textField = _c.textField,\n        className = _c.className,\n        style = _c.style,\n        loading = _c.loading,\n        iconClassName = _c.iconClassName,\n        virtual = _c.virtual,\n        size = _c.size,\n        rounded = _c.rounded,\n        fillMode = _c.fillMode;\n    var isValid = !this.validityStyles || this.validity.valid;\n    var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n    var selectedItemText = getItemValue(this.value, textField);\n    var inputText = isPresent(text) ? text : selectedItemText;\n    var renderClearButton = clearButton && (!!inputText || isPresent(this.value));\n    var base = this.base;\n    var vs = base.vs;\n    var id = this.props.id || this._inputId;\n    vs.enabled = virtual !== undefined;\n\n    if (virtual !== undefined) {\n      vs.skip = virtual.skip;\n      vs.total = virtual.total;\n      vs.pageSize = virtual.pageSize;\n    }\n\n    var combobox = React.createElement(\"span\", {\n      className: classNames('k-combobox k-input', (_a = {}, _a[\"k-input-\".concat(sizeMap[size] || size)] = size, _a[\"k-rounded-\".concat(roundedMap[rounded] || rounded)] = rounded, _a[\"k-input-\".concat(fillMode)] = fillMode, _a['k-invalid'] = !isValid, _a['k-loading'] = loading, _a['k-required'] = this.required, _a['k-disabled'] = disabled, _a), className),\n      ref: this.componentRef,\n      style: !label ? style : __assign(__assign({}, style), {\n        width: undefined\n      }),\n      dir: dir\n    }, this.renderSearchBar(inputText || '', id), renderClearButton && !loading && React.createElement(ClearButton, {\n      onClick: this.clearButtonClick,\n      key: \"clearbutton\"\n    }), loading && React.createElement(\"span\", {\n      className: \"k-icon k-i-loading k-input-loading-icon\",\n      key: \"loading\"\n    }), React.createElement(\"button\", {\n      tabIndex: -1,\n      type: \"button\",\n      className: classNames('k-input-button k-button k-icon-button', (_b = {}, _b[\"k-button-\".concat(sizeMap[size] || size)] = size, _b[\"k-button-\".concat(fillMode)] = fillMode, _b[\"k-button-\".concat(fillMode, \"-base\")] = fillMode, _b)),\n      onClick: this.toggleBtnClick,\n      onMouseDown: function (e) {\n        return e.preventDefault();\n      }\n    }, React.createElement(\"span\", {\n      className: classNames('k-button-icon k-icon k-i-arrow-s', iconClassName)\n    })), this.renderListContainer());\n    return label ? React.createElement(FloatingLabel, {\n      label: label,\n      editorId: id,\n      editorValue: inputText,\n      editorValid: isValid,\n      editorDisabled: disabled,\n      style: {\n        width: style ? style.width : undefined\n      },\n      children: combobox\n    }) : combobox;\n  };\n  /**\n   * @hidden\n   */\n\n\n  ComboBoxWithoutContext.prototype.onNavigate = function (state, keyCode) {\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c;\n    var text = this.props.filter ? this.props.filter : this.state.text;\n    var focusedIndex = this.getFocusedIndex();\n    var vs = this.base.vs;\n    var value = this.value;\n    this._suggested = '';\n\n    if (focusedIndex !== -1 && !isPresent(value)) {\n      this.handleItemSelect(focusedIndex, state);\n    } else if (text === '') {\n      this.handleItemSelect(0, state);\n    } else {\n      var currentIndex = virtual.skip + focusedIndex;\n      var newIndex = this.base.navigation.navigate({\n        keyCode: keyCode,\n        current: currentIndex,\n        max: (vs.enabled ? vs.total : data.length) - 1,\n        min: 0\n      });\n\n      if (newIndex !== undefined) {\n        this.handleItemSelect(newIndex, state);\n      }\n    }\n  };\n\n  ComboBoxWithoutContext.prototype.applyValueOnEnter = function (value, state) {\n    var _a;\n\n    var _b = this.props,\n        _c = _b.data,\n        data = _c === void 0 ? [] : _c,\n        textField = _b.textField,\n        allowCustom = _b.allowCustom;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var currentValueText = getItemValue(this.value, textField);\n    var valueIndex = currentValueText === value ? this.index : getItemIndexByText(data, value, textField);\n    var itemSelected = valueIndex !== -1;\n    var newSelected = undefined;\n    this._suggested = '';\n\n    if (itemSelected) {\n      // typed text match item from list\n      newSelected = data[valueIndex];\n    } else {\n      if (allowCustom) {\n        // any custom text not in list\n        newSelected = textField !== undefined ? (_a = {}, _a[textField] = value, _a) : value;\n      } else {\n        return this.selectFocusedItem(value, state);\n      }\n    }\n\n    this.triggerOnChange(newSelected, state);\n\n    if (opened) {\n      this.base.togglePopup(state);\n    }\n\n    if (this.props.filter === undefined && this.state.text !== undefined) {\n      state.data.text = undefined;\n    }\n\n    this.applyState(state);\n  };\n\n  ComboBoxWithoutContext.prototype.applyValueOnRejectSuggestions = function (text, state) {\n    var _a;\n\n    var _b = this.props,\n        _c = _b.data,\n        data = _c === void 0 ? [] : _c,\n        textField = _b.textField,\n        allowCustom = _b.allowCustom;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var valueItemText = getItemValue(this.value, textField);\n    this._suggested = '';\n\n    if (text === valueItemText || text === '' && !isPresent(valueItemText)) {\n      if (opened) {\n        this.base.togglePopup(state);\n      }\n\n      return this.applyState(state);\n    }\n\n    var valueIndex = getItemIndexByText(data, text, textField, true);\n    var itemSelected = valueIndex !== -1;\n    var newSelected = null;\n\n    if (itemSelected) {\n      newSelected = data[valueIndex];\n    } else if (allowCustom) {\n      newSelected = text ? textField ? (_a = {}, _a[textField] = text, _a) : text : null;\n    }\n\n    this.triggerOnChange(newSelected, state);\n\n    if (this.state.text !== undefined) {\n      state.data.text = undefined;\n      this.base.filterChanged('', state);\n    }\n\n    if (opened) {\n      this.base.togglePopup(state);\n    }\n\n    this.applyState(state);\n  };\n\n  ComboBoxWithoutContext.prototype.selectFocusedItem = function (text, state) {\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        textField = _a.textField,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c,\n        _d = _a.focusedItemIndex,\n        focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n    var skip = virtual.skip;\n    var focusedIndex = text === '' && skip === 0 ? 0 : focusedItemIndex(data, text, textField);\n\n    if (focusedIndex !== -1) {\n      this.handleItemSelect(focusedIndex + skip, state);\n    } else {\n      this.triggerOnChange(null, state);\n\n      if (this.state.text !== undefined) {\n        state.data.text = undefined;\n      }\n    }\n\n    if (opened) {\n      this.base.togglePopup(state);\n    }\n\n    return this.applyState(state);\n  };\n\n  ComboBoxWithoutContext.prototype.renderListContainer = function () {\n    var _a;\n\n    var base = this.base;\n    var _b = this.props,\n        dir = _b.dir,\n        header = _b.header,\n        footer = _b.footer,\n        _c = _b.data,\n        data = _c === void 0 ? [] : _c,\n        groupField = _b.groupField,\n        size = _b.size,\n        list = _b.list,\n        virtual = _b.virtual;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var popupSettings = base.getPopupSettings();\n    var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n    var group = this.state.group;\n\n    if (group === undefined && groupField !== undefined) {\n      group = getItemValue(data[0], groupField);\n    }\n\n    return React.createElement(ListContainer, {\n      width: popupWidth,\n      popupSettings: {\n        animate: popupSettings.animate,\n        anchor: this.element,\n        show: opened,\n        popupClass: classNames(popupSettings.popupClass, 'k-reset'),\n        className: popupSettings.className,\n        appendTo: popupSettings.appendTo\n      },\n      dir: dir !== undefined ? dir : this.base.dirCalculated,\n      itemsCount: [data.length]\n    }, React.createElement(\"div\", {\n      className: classNames((_a = {}, _a['k-list'] = !list, _a[\"k-list-\".concat(sizeMap[size] || size)] = !list && size, _a['k-virtual-list'] = virtual, _a['k-data-table'] = list, _a[\"k-table-\".concat(sizeMap[size] || size)] = list && size, _a))\n    }, header && React.createElement(\"div\", {\n      className: \"k-table-header\"\n    }, header), !list && group && React.createElement(\"div\", {\n      className: \"k-list-group-sticky-header\"\n    }, group), this.renderList(), footer && React.createElement(\"div\", {\n      className: \"k-list-footer\"\n    }, footer)));\n  };\n\n  ComboBoxWithoutContext.prototype.renderList = function () {\n    var _a;\n\n    var _this = this;\n\n    var base = this.base;\n    var _b = this.props,\n        textField = _b.textField,\n        dataItemKey = _b.dataItemKey,\n        listNoDataRender = _b.listNoDataRender,\n        itemRender = _b.itemRender,\n        _c = _b.data,\n        data = _c === void 0 ? [] : _c,\n        _d = _b.virtual,\n        virtual = _d === void 0 ? {\n      skip: 0\n    } : _d;\n    var popupSettings = base.getPopupSettings();\n    var vs = base.vs;\n    var skip = virtual.skip;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var translate = \"translateY(\".concat(vs.translate, \"px)\");\n    var focusedIndex = opened ? this.getFocusedIndex() : undefined;\n    var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n    var selectedItemText = getItemValue(this.value, textField);\n    var value = isPresent(text) && text !== selectedItemText ? null : this.value;\n    var ListComponent = this.props.list || List;\n    return React.createElement(ListComponent, {\n      id: base.listBoxId,\n      virtual: Boolean(virtual),\n      show: opened,\n      data: data,\n      focusedIndex: focusedIndex,\n      value: value,\n      textField: textField,\n      valueField: dataItemKey,\n      groupField: this.props.groupField,\n      optionsGuid: base.guid,\n      listRef: function (list) {\n        vs.list = _this.base.list = list;\n        _this.itemHeight = 0;\n      },\n      wrapperStyle: {\n        maxHeight: popupSettings.height\n      },\n      wrapperCssClass: classNames('k-list-content', (_a = {}, _a['k-list-scroller'] = !virtual, _a['k-virtual-content'] = virtual, _a)),\n      listStyle: vs.enabled ? {\n        transform: translate\n      } : undefined,\n      key: \"listkey\",\n      skip: skip,\n      onClick: this.handleItemClick,\n      itemRender: itemRender,\n      noDataRender: listNoDataRender,\n      onMouseDown: function (e) {\n        return e.preventDefault();\n      },\n      onScroll: this.onScroll,\n      wrapperRef: vs.scrollerRef,\n      scroller: this.base.renderScrollElement()\n    });\n  };\n\n  ComboBoxWithoutContext.prototype.renderSearchBar = function (text, id) {\n    var _this = this;\n\n    var _a = this.props,\n        placeholder = _a.placeholder,\n        tabIndex = _a.tabIndex,\n        disabled = _a.disabled,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        dataItemKey = _a.dataItemKey,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var value = this.value;\n    var selectedIndex = Math.max(0, data.findIndex(function (i) {\n      return areSame(i, value, dataItemKey);\n    }));\n\n    if (this._suggested && !areSame(this._valueOnDidUpdate, value, dataItemKey)) {\n      this._suggested = '';\n    }\n\n    return React.createElement(SearchBar, {\n      id: id,\n      placeholder: placeholder,\n      tabIndex: tabIndex || undefined,\n      accessKey: this.props.accessKey,\n      value: text + this._suggested,\n      suggestedText: this._suggested,\n      ref: function (el) {\n        return _this._input = el && el.input;\n      },\n      onKeyDown: this.onInputKeyDown,\n      onChange: this.inputOnChange,\n      onFocus: this.base.handleFocus,\n      onBlur: this.handleBlur,\n      disabled: disabled,\n      expanded: opened,\n      owns: this.base.listBoxId,\n      activedescendant: \"option-\".concat(this.base.guid, \"-\").concat(selectedIndex + virtual.skip),\n      role: \"combobox\",\n      ariaLabelledBy: this.props.ariaLabelledBy,\n      ariaDescribedBy: this.props.ariaDescribedBy,\n      render: this.props.valueRender\n    });\n  };\n\n  ComboBoxWithoutContext.prototype.triggerOnChange = function (item, state) {\n    var value = this.value;\n\n    if (!isPresent(value) && !isPresent(item) || areSame(value, item, this.props.dataItemKey)) {\n      return;\n    }\n\n    if (this.props.value === undefined) {\n      state.data.value = item;\n    }\n\n    this._valueDuringOnChange = item;\n    state.events.push({\n      type: 'onChange'\n    });\n  };\n\n  ComboBoxWithoutContext.prototype.getFocusedIndex = function () {\n    var value = this.value;\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        textField = _a.textField,\n        dataItemKey = _a.dataItemKey,\n        _c = _a.virtual,\n        virtual = _c === void 0 ? {\n      skip: 0\n    } : _c,\n        _d = _a.focusedItemIndex,\n        focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n    var text = this.props.filter ? this.props.filter : this.state.text;\n\n    if (isPresent(value) && text === undefined) {\n      return data.findIndex(function (i) {\n        return areSame(i, value, dataItemKey);\n      });\n    } else if (text) {\n      return focusedItemIndex(data, text, textField);\n    } else {\n      return virtual.skip === 0 ? 0 : -1;\n    }\n  };\n\n  ComboBoxWithoutContext.prototype.suggestValue = function (value) {\n    var _a = this.props,\n        data = _a.data,\n        textField = _a.textField;\n    this._suggested = suggestValue(value, data, textField);\n  };\n\n  ComboBoxWithoutContext.prototype.applyState = function (state) {\n    this.base.applyState(state);\n    this._valueDuringOnChange = undefined;\n  };\n\n  ComboBoxWithoutContext.displayName = 'ComboBox';\n  /**\n   * @hidden\n   */\n\n  ComboBoxWithoutContext.propTypes = __assign(__assign({}, DropDownBase.propTypes), {\n    size: PropTypes.oneOf([null, 'small', 'medium', 'large']),\n    rounded: PropTypes.oneOf([null, 'small', 'medium', 'large', 'full']),\n    fillMode: PropTypes.oneOf([null, 'solid', 'flat', 'outline']),\n    dataItemKey: PropTypes.string,\n    groupField: PropTypes.string,\n    suggest: PropTypes.bool,\n    placeholder: PropTypes.string,\n    allowCustom: PropTypes.bool,\n    clearButton: PropTypes.bool,\n    iconClassName: PropTypes.string,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    list: PropTypes.any,\n    valueRender: PropTypes.func\n  });\n  /**\n   * @hidden\n   */\n\n  ComboBoxWithoutContext.defaultProps = __assign(__assign({}, DropDownBase.defaultProps), {\n    size: 'medium',\n    rounded: 'medium',\n    fillMode: 'solid',\n    allowCustom: false,\n    clearButton: true,\n    required: false\n  });\n  return ComboBoxWithoutContext;\n}(React.Component);\n\nexport { ComboBoxWithoutContext };\n/**\n * Represents the PropsContext of the `ComboBox` component.\n * Used for global configuration of all `ComboBox` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\n\nexport var ComboBoxPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n\n/**\n * Represents the [KendoReact ComboBox component]({% slug overview_combobox %}).\n *\n * Accepts properties of type [ComboBoxProps]({% slug api_dropdowns_comboboxprops %}).\n * Obtaining the `ref` returns an object of type [ComboBoxHandle]({% slug api_dropdowns_comboboxhandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    combobox = null;\n *    render() {\n *       return (\n *          <div>\n *              <ComboBox\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.combobox = component}\n *              />\n *              <button onClick={() => alert(this.combobox.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nexport var ComboBox = withPropsContext(ComboBoxPropsContext, ComboBoxWithoutContext);\nComboBox.displayName = 'KendoReactComboBox';","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","React","PropTypes","DropDownBase","guid","classNames","Keys","createPropsContext","withPropsContext","kendoThemeMaps","FloatingLabel","areSame","itemIndexStartsWith","getItemIndexByText","getItemValue","isPresent","suggestValue","SearchBar","ListContainer","List","validatePackage","packageMetadata","ClearButton","VALIDATION_MESSAGE","sizeMap","roundedMap","ComboBoxWithoutContext","_super","props","_this","state","base","_element","_inputId","_suggested","_input","itemHeight","focus","handleItemSelect","index","_a","_b","data","virtual","dataItemKey","skip","item","newSelected","value","triggerOnChange","text","undefined","triggerPageChangeCornerItems","componentRef","element","wrapper","toggleBtnClick","event","initState","syntheticEvent","togglePopup","applyState","onScroll","vs","list","scrollHandler","_c","groupField","enabled","children","offsetHeight","target","scrollTop","group","setState","onGroupScroll","handleItemClick","_valueDuringOnChange","handleBlur","focused","events","push","type","applyValueOnRejectSuggestions","currentTarget","onInputKeyDown","keyCode","opened","altKey","up","down","preventDefault","onNavigate","enter","applyValueOnEnter","esc","inputOnChange","input","suggest","selectionAtEnd","selectionEnd","prevText","filter","textField","deletedSuggestion","deleting","focusedItem","filterChanged","clearButtonClick","stopPropagation","setValidity","setCustomValidity","validity","valid","validationMessage","defineProperty","get","enumerable","configurable","defaultValue","findIndex","name","customError","isValid","required","valueMissing","validityStyles","defaultProps","componentDidUpdate","prevProps","prevState","prevTotal","total","prevOpened","opening","selectedItem","_valueOnDidUpdate","calcScrollElementHeight","reset","prevSelectedItem","selectedItemIndex","selectedItemChanged","scrollToVirtualItem","scrollToItem","componentDidMount","didMount","render","dir","disabled","_d","clearButton","label","className","style","loading","iconClassName","size","rounded","fillMode","selectedItemText","inputText","renderClearButton","id","pageSize","combobox","createElement","concat","ref","width","renderSearchBar","onClick","key","tabIndex","onMouseDown","e","renderListContainer","editorId","editorValue","editorValid","editorDisabled","focusedIndex","getFocusedIndex","currentIndex","newIndex","navigation","navigate","current","max","min","allowCustom","currentValueText","valueIndex","itemSelected","selectFocusedItem","valueItemText","focusedItemIndex","header","footer","popupSettings","getPopupSettings","popupWidth","animate","anchor","show","popupClass","appendTo","dirCalculated","itemsCount","renderList","listNoDataRender","itemRender","translate","ListComponent","listBoxId","Boolean","valueField","optionsGuid","listRef","wrapperStyle","maxHeight","height","wrapperCssClass","listStyle","transform","noDataRender","wrapperRef","scrollerRef","scroller","renderScrollElement","placeholder","selectedIndex","Math","accessKey","suggestedText","el","onKeyDown","onChange","onFocus","handleFocus","onBlur","expanded","owns","activedescendant","role","ariaLabelledBy","ariaDescribedBy","valueRender","displayName","propTypes","oneOf","string","bool","any","func","Component","ComboBoxPropsContext","ComboBox"],"sources":["C:/Users/seba2/Documents/GitHub/CloudDrive_CE2103/webApp/test.app/node_modules/@progress/kendo-react-dropdowns/dist/es/ComboBox/ComboBox.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport DropDownBase from '../common/DropDownBase';\nimport { guid, classNames, Keys, createPropsContext, withPropsContext, kendoThemeMaps } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { areSame, itemIndexStartsWith, getItemIndexByText, getItemValue, isPresent, suggestValue } from '../common/utils';\nimport SearchBar from '../common/SearchBar';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport ClearButton from '../common/ClearButton';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\nvar sizeMap = kendoThemeMaps.sizeMap, roundedMap = kendoThemeMaps.roundedMap;\n/** @hidden */\nvar ComboBoxWithoutContext = /** @class */ (function (_super) {\n    __extends(ComboBoxWithoutContext, _super);\n    function ComboBoxWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {};\n        _this.base = new DropDownBase(_this);\n        _this._element = null;\n        _this._inputId = guid();\n        _this._suggested = '';\n        _this._input = null;\n        _this.itemHeight = 0;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, virtual = _a.virtual, dataItemKey = _a.dataItemKey;\n            var skip = virtual ? virtual.skip : 0;\n            var item = data[index - skip];\n            var newSelected = !areSame(item, _this.value, dataItemKey);\n            _this.triggerOnChange(item, state);\n            if (_this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n            if (newSelected) {\n                _this.base.triggerPageChangeCornerItems(item, state);\n            }\n        };\n        _this.componentRef = function (element) {\n            _this._element = element;\n            _this.base.wrapper = element;\n        };\n        _this.toggleBtnClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.onScroll = function (event) {\n            var _a = _this.base, vs = _a.vs, list = _a.list;\n            vs.scrollHandler(event);\n            var _b = _this.props, _c = _b.data, data = _c === void 0 ? [] : _c, groupField = _b.groupField;\n            if (!groupField || !data.length) {\n                return;\n            }\n            var itemHeight = _this.itemHeight =\n                _this.itemHeight || (vs.enabled ? vs.itemHeight : (list ? list.children[0].offsetHeight : 0));\n            var target = event.target;\n            var scrollTop = target.scrollTop - (vs.skip * itemHeight);\n            var group = data[0][groupField];\n            for (var i = 1; i < data.length; i++) {\n                if (itemHeight * i > scrollTop) {\n                    break;\n                }\n                if (data[i] && data[i][groupField]) {\n                    group = data[i][groupField];\n                }\n            }\n            if (group !== _this.state.group) {\n                _this.setState({\n                    group: group\n                });\n                if (_this.props.onGroupScroll) {\n                    _this.props.onGroupScroll.call(undefined, { group: group });\n                }\n            }\n        };\n        _this.handleItemClick = function (index, event) {\n            _this.base.handleItemClick(index, event);\n            _this._valueDuringOnChange = undefined;\n        };\n        _this.handleBlur = function (event) {\n            if (_this.state.focused) {\n                var state = _this.base.initState();\n                state.data.focused = false;\n                state.events.push({ type: 'onBlur' });\n                state.syntheticEvent = event;\n                _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n            }\n        };\n        _this.onInputKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!event.altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n                event.preventDefault();\n                _this.onNavigate(state, keyCode);\n                _this.applyState(state);\n                return;\n            }\n            var togglePopup = function () {\n                event.preventDefault();\n                _this.base.togglePopup(state);\n                _this.applyState(state);\n            };\n            if (opened) {\n                if (event.altKey && keyCode === Keys.up) {\n                    togglePopup();\n                }\n                else if (keyCode === Keys.enter) {\n                    event.preventDefault();\n                    _this.applyValueOnEnter(event.currentTarget.value, state);\n                }\n                else if (keyCode === Keys.esc) {\n                    _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n                }\n            }\n            else if (event.altKey && keyCode === Keys.down) {\n                togglePopup();\n            }\n        };\n        _this.inputOnChange = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var input = event.currentTarget;\n            var value = input.value;\n            if (_this.props.suggest) {\n                var selectionAtEnd = input.selectionEnd === value.length;\n                var prevText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n                if (!isPresent(prevText)) {\n                    prevText = getItemValue(_this.value, _this.props.textField) || '';\n                }\n                var deletedSuggestion = prevText && prevText === value;\n                var deleting = prevText && prevText.length > value.length;\n                if (deletedSuggestion || deleting || !selectionAtEnd) {\n                    _this._suggested = '';\n                }\n                else {\n                    _this.suggestValue(value);\n                }\n            }\n            if (_this.props.filter === undefined) {\n                state.data.text = value;\n            }\n            if (_this.state.focusedItem !== undefined) {\n                state.data.focusedItem = undefined;\n            }\n            if (!opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.base.filterChanged(value, state);\n            _this.applyState(state);\n        };\n        _this.clearButtonClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            event.stopPropagation();\n            _this._suggested = '';\n            _this.base.filterChanged('', state);\n            if (_this.props.filter === undefined && _this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n            _this.triggerOnChange(null, state);\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"value\", {\n        /**\n         * The value of the ComboBox.\n         */\n        get: function () {\n            if (this._valueDuringOnChange !== undefined) {\n                return this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                return this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                return this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                return this.props.defaultValue;\n            }\n            return undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"index\", {\n        /**\n         * The index of the selected item.\n         */\n        get: function () {\n            var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var value = this.value;\n            // TO DO: deprecate it!\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the ComboBox.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the component is set.\n         */\n        get: function () {\n            // remove the undefined check when this is fixed:\n            // https://github.com/telerik/kendo-react-private/issues/252\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required\n                || (this.value !== null && this.value !== '' && this.value !== undefined));\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"validityStyles\", {\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : ComboBoxWithoutContext.defaultProps.validityStyles;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : ComboBoxWithoutContext.defaultProps.required;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    ComboBoxWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n        var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        var selectedItem = this.value;\n        this._valueOnDidUpdate = selectedItem;\n        if (virtual && virtual.total !== prevTotal) {\n            this.base.vs.calcScrollElementHeight();\n            this.base.vs.reset();\n        }\n        else {\n            var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n            var selectedItemIndex = data.findIndex(function (i) { return areSame(i, selectedItem, dataItemKey); });\n            var selectedItemChanged = !areSame(prevSelectedItem, selectedItem, dataItemKey);\n            if (opening && virtual) {\n                this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n            }\n            else if (opening && !virtual) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && selectedItem && selectedItemChanged) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n        }\n        if (opening && this._input) {\n            this._input.focus();\n        }\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxWithoutContext.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxWithoutContext.prototype.render = function () {\n        var _a, _b;\n        var _c = this.props, dir = _c.dir, disabled = _c.disabled, _d = _c.clearButton, clearButton = _d === void 0 ? ComboBoxWithoutContext.defaultProps.clearButton : _d, label = _c.label, textField = _c.textField, className = _c.className, style = _c.style, loading = _c.loading, iconClassName = _c.iconClassName, virtual = _c.virtual, size = _c.size, rounded = _c.rounded, fillMode = _c.fillMode;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var selectedItemText = getItemValue(this.value, textField);\n        var inputText = isPresent(text) ? text : selectedItemText;\n        var renderClearButton = clearButton && (!!(inputText) || isPresent(this.value));\n        var base = this.base;\n        var vs = base.vs;\n        var id = this.props.id || this._inputId;\n        vs.enabled = virtual !== undefined;\n        if (virtual !== undefined) {\n            vs.skip = virtual.skip;\n            vs.total = virtual.total;\n            vs.pageSize = virtual.pageSize;\n        }\n        var combobox = (React.createElement(\"span\", { className: classNames('k-combobox k-input', (_a = {},\n                _a[\"k-input-\".concat(sizeMap[size] || size)] = size,\n                _a[\"k-rounded-\".concat(roundedMap[rounded] || rounded)] = rounded,\n                _a[\"k-input-\".concat(fillMode)] = fillMode,\n                _a['k-invalid'] = !isValid,\n                _a['k-loading'] = loading,\n                _a['k-required'] = this.required,\n                _a['k-disabled'] = disabled,\n                _a), className), ref: this.componentRef, style: !label ? style : __assign(__assign({}, style), { width: undefined }), dir: dir },\n            this.renderSearchBar(inputText || '', id),\n            renderClearButton && !loading && React.createElement(ClearButton, { onClick: this.clearButtonClick, key: \"clearbutton\" }),\n            loading && React.createElement(\"span\", { className: \"k-icon k-i-loading k-input-loading-icon\", key: \"loading\" }),\n            React.createElement(\"button\", { tabIndex: -1, type: \"button\", className: classNames('k-input-button k-button k-icon-button', (_b = {},\n                    _b[\"k-button-\".concat(sizeMap[size] || size)] = size,\n                    _b[\"k-button-\".concat(fillMode)] = fillMode,\n                    _b[\"k-button-\".concat(fillMode, \"-base\")] = fillMode,\n                    _b)), onClick: this.toggleBtnClick, onMouseDown: function (e) { return e.preventDefault(); } },\n                React.createElement(\"span\", { className: classNames('k-button-icon k-icon k-i-arrow-s', iconClassName) })),\n            this.renderListContainer()));\n        return label\n            ? (React.createElement(FloatingLabel, { label: label, editorId: id, editorValue: inputText, editorValid: isValid, editorDisabled: disabled, style: { width: style ? style.width : undefined }, children: combobox }))\n            : combobox;\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxWithoutContext.prototype.onNavigate = function (state, keyCode) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c;\n        var text = this.props.filter ? this.props.filter : this.state.text;\n        var focusedIndex = this.getFocusedIndex();\n        var vs = this.base.vs;\n        var value = this.value;\n        this._suggested = '';\n        if (focusedIndex !== -1 && !isPresent(value)) {\n            this.handleItemSelect(focusedIndex, state);\n        }\n        else if (text === '') {\n            this.handleItemSelect(0, state);\n        }\n        else {\n            var currentIndex = virtual.skip + focusedIndex;\n            var newIndex = this.base.navigation.navigate({\n                keyCode: keyCode,\n                current: currentIndex,\n                max: (vs.enabled ? vs.total : data.length) - 1,\n                min: 0\n            });\n            if (newIndex !== undefined) {\n                this.handleItemSelect(newIndex, state);\n            }\n        }\n    };\n    ComboBoxWithoutContext.prototype.applyValueOnEnter = function (value, state) {\n        var _a;\n        var _b = this.props, _c = _b.data, data = _c === void 0 ? [] : _c, textField = _b.textField, allowCustom = _b.allowCustom;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var currentValueText = getItemValue(this.value, textField);\n        var valueIndex = currentValueText === value ?\n            this.index : getItemIndexByText(data, value, textField);\n        var itemSelected = valueIndex !== -1;\n        var newSelected = undefined;\n        this._suggested = '';\n        if (itemSelected) { // typed text match item from list\n            newSelected = data[valueIndex];\n        }\n        else {\n            if (allowCustom) { // any custom text not in list\n                newSelected = textField !== undefined ? (_a = {}, _a[textField] = value, _a) : value;\n            }\n            else {\n                return this.selectFocusedItem(value, state);\n            }\n        }\n        this.triggerOnChange(newSelected, state);\n        if (opened) {\n            this.base.togglePopup(state);\n        }\n        if (this.props.filter === undefined && this.state.text !== undefined) {\n            state.data.text = undefined;\n        }\n        this.applyState(state);\n    };\n    ComboBoxWithoutContext.prototype.applyValueOnRejectSuggestions = function (text, state) {\n        var _a;\n        var _b = this.props, _c = _b.data, data = _c === void 0 ? [] : _c, textField = _b.textField, allowCustom = _b.allowCustom;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var valueItemText = getItemValue(this.value, textField);\n        this._suggested = '';\n        if (text === valueItemText || (text === '' && !isPresent(valueItemText))) {\n            if (opened) {\n                this.base.togglePopup(state);\n            }\n            return this.applyState(state);\n        }\n        var valueIndex = getItemIndexByText(data, text, textField, true);\n        var itemSelected = valueIndex !== -1;\n        var newSelected = null;\n        if (itemSelected) {\n            newSelected = data[valueIndex];\n        }\n        else if (allowCustom) {\n            newSelected = text ? (textField ? (_a = {}, _a[textField] = text, _a) : text) : null;\n        }\n        this.triggerOnChange(newSelected, state);\n        if (this.state.text !== undefined) {\n            state.data.text = undefined;\n            this.base.filterChanged('', state);\n        }\n        if (opened) {\n            this.base.togglePopup(state);\n        }\n        this.applyState(state);\n    };\n    ComboBoxWithoutContext.prototype.selectFocusedItem = function (text, state) {\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, _d = _a.focusedItemIndex, focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n        var skip = virtual.skip;\n        var focusedIndex = (text === '' && skip === 0) ? 0 :\n            focusedItemIndex(data, text, textField);\n        if (focusedIndex !== -1) {\n            this.handleItemSelect(focusedIndex + skip, state);\n        }\n        else {\n            this.triggerOnChange(null, state);\n            if (this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n        }\n        if (opened) {\n            this.base.togglePopup(state);\n        }\n        return this.applyState(state);\n    };\n    ComboBoxWithoutContext.prototype.renderListContainer = function () {\n        var _a;\n        var base = this.base;\n        var _b = this.props, dir = _b.dir, header = _b.header, footer = _b.footer, _c = _b.data, data = _c === void 0 ? [] : _c, groupField = _b.groupField, size = _b.size, list = _b.list, virtual = _b.virtual;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var popupSettings = base.getPopupSettings();\n        var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n        var group = this.state.group;\n        if (group === undefined && groupField !== undefined) {\n            group = getItemValue(data[0], groupField);\n        }\n        return (React.createElement(ListContainer, { width: popupWidth, popupSettings: {\n                animate: popupSettings.animate,\n                anchor: this.element,\n                show: opened,\n                popupClass: classNames(popupSettings.popupClass, 'k-reset'),\n                className: popupSettings.className,\n                appendTo: popupSettings.appendTo\n            }, dir: dir !== undefined ? dir : this.base.dirCalculated, itemsCount: [data.length] },\n            React.createElement(\"div\", { className: classNames((_a = {},\n                    _a['k-list'] = !list,\n                    _a[\"k-list-\".concat(sizeMap[size] || size)] = !list && size,\n                    _a['k-virtual-list'] = virtual,\n                    _a['k-data-table'] = list,\n                    _a[\"k-table-\".concat(sizeMap[size] || size)] = list && size,\n                    _a)) },\n                header && React.createElement(\"div\", { className: \"k-table-header\" }, header),\n                !list && group && React.createElement(\"div\", { className: \"k-list-group-sticky-header\" }, group),\n                this.renderList(),\n                footer && React.createElement(\"div\", { className: \"k-list-footer\" }, footer))));\n    };\n    ComboBoxWithoutContext.prototype.renderList = function () {\n        var _a;\n        var _this = this;\n        var base = this.base;\n        var _b = this.props, textField = _b.textField, dataItemKey = _b.dataItemKey, listNoDataRender = _b.listNoDataRender, itemRender = _b.itemRender, _c = _b.data, data = _c === void 0 ? [] : _c, _d = _b.virtual, virtual = _d === void 0 ? { skip: 0 } : _d;\n        var popupSettings = base.getPopupSettings();\n        var vs = base.vs;\n        var skip = virtual.skip;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var translate = \"translateY(\".concat(vs.translate, \"px)\");\n        var focusedIndex = opened ? this.getFocusedIndex() : undefined;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var selectedItemText = getItemValue(this.value, textField);\n        var value = isPresent(text) && text !== selectedItemText ? null : this.value;\n        var ListComponent = this.props.list || List;\n        return (React.createElement(ListComponent, { id: base.listBoxId, virtual: Boolean(virtual), show: opened, data: data, focusedIndex: focusedIndex, value: value, textField: textField, valueField: dataItemKey, groupField: this.props.groupField, optionsGuid: base.guid, listRef: function (list) { vs.list = _this.base.list = list; _this.itemHeight = 0; }, wrapperStyle: { maxHeight: popupSettings.height }, wrapperCssClass: classNames('k-list-content', (_a = {},\n                _a['k-list-scroller'] = !virtual,\n                _a['k-virtual-content'] = virtual,\n                _a)), listStyle: vs.enabled ? { transform: translate } : undefined, key: \"listkey\", skip: skip, onClick: this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender, onMouseDown: function (e) { return e.preventDefault(); }, onScroll: this.onScroll, wrapperRef: vs.scrollerRef, scroller: this.base.renderScrollElement() }));\n    };\n    ComboBoxWithoutContext.prototype.renderSearchBar = function (text, id) {\n        var _this = this;\n        var _a = this.props, placeholder = _a.placeholder, tabIndex = _a.tabIndex, disabled = _a.disabled, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var value = this.value;\n        var selectedIndex = Math.max(0, data.findIndex(function (i) { return areSame(i, value, dataItemKey); }));\n        if (this._suggested && !areSame(this._valueOnDidUpdate, value, dataItemKey)) {\n            this._suggested = '';\n        }\n        return (React.createElement(SearchBar, { id: id, placeholder: placeholder, tabIndex: tabIndex || undefined, accessKey: this.props.accessKey, value: text + this._suggested, suggestedText: this._suggested, ref: function (el) { return _this._input = el && el.input; }, onKeyDown: this.onInputKeyDown, onChange: this.inputOnChange, onFocus: this.base.handleFocus, onBlur: this.handleBlur, disabled: disabled, expanded: opened, owns: this.base.listBoxId, activedescendant: \"option-\".concat(this.base.guid, \"-\").concat(selectedIndex + virtual.skip), role: \"combobox\", ariaLabelledBy: this.props.ariaLabelledBy, ariaDescribedBy: this.props.ariaDescribedBy, render: this.props.valueRender }));\n    };\n    ComboBoxWithoutContext.prototype.triggerOnChange = function (item, state) {\n        var value = this.value;\n        if ((!isPresent(value) && !isPresent(item)) || areSame(value, item, this.props.dataItemKey)) {\n            return;\n        }\n        if (this.props.value === undefined) {\n            state.data.value = item;\n        }\n        this._valueDuringOnChange = item;\n        state.events.push({ type: 'onChange' });\n    };\n    ComboBoxWithoutContext.prototype.getFocusedIndex = function () {\n        var value = this.value;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, _d = _a.focusedItemIndex, focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n        var text = this.props.filter ? this.props.filter : this.state.text;\n        if (isPresent(value) && text === undefined) {\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        }\n        else if (text) {\n            return focusedItemIndex(data, text, textField);\n        }\n        else {\n            return virtual.skip === 0 ? 0 : -1;\n        }\n    };\n    ComboBoxWithoutContext.prototype.suggestValue = function (value) {\n        var _a = this.props, data = _a.data, textField = _a.textField;\n        this._suggested = suggestValue(value, data, textField);\n    };\n    ComboBoxWithoutContext.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueDuringOnChange = undefined;\n    };\n    ComboBoxWithoutContext.displayName = 'ComboBox';\n    /**\n     * @hidden\n     */\n    ComboBoxWithoutContext.propTypes = __assign(__assign({}, DropDownBase.propTypes), { size: PropTypes.oneOf([null, 'small', 'medium', 'large']), rounded: PropTypes.oneOf([null, 'small', 'medium', 'large', 'full']), fillMode: PropTypes.oneOf([null, 'solid', 'flat', 'outline']), dataItemKey: PropTypes.string, groupField: PropTypes.string, suggest: PropTypes.bool, placeholder: PropTypes.string, allowCustom: PropTypes.bool, clearButton: PropTypes.bool, iconClassName: PropTypes.string, validationMessage: PropTypes.string, required: PropTypes.bool, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string, list: PropTypes.any, valueRender: PropTypes.func });\n    /**\n     * @hidden\n     */\n    ComboBoxWithoutContext.defaultProps = __assign(__assign({}, DropDownBase.defaultProps), { size: 'medium', rounded: 'medium', fillMode: 'solid', allowCustom: false, clearButton: true, required: false });\n    return ComboBoxWithoutContext;\n}(React.Component));\nexport { ComboBoxWithoutContext };\n/**\n * Represents the PropsContext of the `ComboBox` component.\n * Used for global configuration of all `ComboBox` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\nexport var ComboBoxPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the [KendoReact ComboBox component]({% slug overview_combobox %}).\n *\n * Accepts properties of type [ComboBoxProps]({% slug api_dropdowns_comboboxprops %}).\n * Obtaining the `ref` returns an object of type [ComboBoxHandle]({% slug api_dropdowns_comboboxhandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    combobox = null;\n *    render() {\n *       return (\n *          <div>\n *              <ComboBox\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.combobox = component}\n *              />\n *              <button onClick={() => alert(this.combobox.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var ComboBox = withPropsContext(ComboBoxPropsContext, ComboBoxWithoutContext);\nComboBox.displayName = 'KendoReactComboBox';\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}